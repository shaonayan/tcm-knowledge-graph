# ✅ 部署完成检查清单

## 📋 部署前检查

- [ ] Node.js 18+ 已安装
- [ ] npm 已安装
- [ ] Neo4j 数据库可访问
- [ ] 端口 3001 未被占用

## 🚀 部署步骤

### 1. 运行一键部署脚本

```bash
双击运行: 一键部署.bat
```

或手动执行：
```bash
cd frontend
npm install
npm run build
```

### 2. 配置环境变量

创建 `backend\.env` 文件：

```env
NODE_ENV=production
PORT=3001
NEO4J_URI=neo4j+s://f36358f7.databases.neo4j.io
NEO4J_USER=neo4j
NEO4J_PASSWORD=您的Neo4j密码
FRONTEND_URL=http://localhost:3001
```

### 3. 启动服务器

```bash
双击运行: 启动生产服务器.bat
```

或手动执行：
```bash
cd backend
set NODE_ENV=production
node server-simple.js
```

## ✅ 验证部署

### 1. 健康检查
访问：http://localhost:3001/health

应该返回：
```json
{
  "status": "ok",
  "database": "connected",
  "timestamp": "..."
}
```

### 2. API信息
访问：http://localhost:3001/api/info

### 3. 前端页面
访问：http://localhost:3001

应该看到完整的应用界面。

### 4. 功能测试

- [ ] 仪表板显示统计数据
- [ ] 搜索功能正常
- [ ] 图谱探索器可以加载图谱
- [ ] 节点详情页面可以访问
- [ ] 数据分析页面显示图表

## 🌐 公网部署

### 1. 云服务器部署

1. 上传项目到服务器
2. 在服务器上运行部署脚本
3. 配置防火墙开放3001端口
4. 访问：http://服务器IP:3001

### 2. 使用域名

1. 配置Nginx反向代理
2. 配置SSL证书（HTTPS）
3. 访问：https://您的域名

详细步骤请查看 `部署指南.md`

## 🔧 故障排查

### 问题1：前端页面空白

**检查：**
- `frontend/dist` 目录是否存在
- 前端是否已构建成功
- 浏览器控制台是否有错误

**解决：**
```bash
cd frontend
npm run build
```

### 问题2：API请求失败

**检查：**
- 后端服务是否正在运行
- CORS配置是否正确
- 网络连接是否正常

**解决：**
- 检查后端日志
- 确认端口3001未被占用
- 检查防火墙设置

### 问题3：Neo4j连接失败

**检查：**
- `.env` 文件中的配置是否正确
- Neo4j服务是否可访问
- 密码是否正确

**解决：**
- 测试Neo4j连接：
  ```bash
  cd backend
  node test-connection.js
  ```

## 📊 性能监控

### 查看日志

```bash
# 如果使用PM2
pm2 logs tcm-kg

# 直接运行
# 日志会输出到控制台
```

### 监控指标

- API响应时间
- 数据库连接状态
- 内存使用情况
- CPU使用情况

## 🔒 安全建议

1. **使用HTTPS**（生产环境必须）
2. **配置防火墙**（只开放必要端口）
3. **保护环境变量**（不要提交到Git）
4. **定期更新依赖**
5. **监控异常访问**

## 📞 需要帮助？

查看详细文档：
- `部署指南.md` - 完整部署文档
- `README-部署.md` - 快速部署指南
- `快速部署说明.md` - 快速开始

